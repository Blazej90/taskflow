<article class="card">
  <div class="top">
    <h3>{{ task.title }}</h3>

    <div class="actions">
      <a
        class="btn"
        [routerLink]="['/tasks', task.id, 'edit']"
        [class.disabled]="isBusy"
        (click)="$event.stopPropagation()"
      >
        Edit
      </a>

      <button
        class="btn"
        type="button"
        (click)="$event.stopPropagation(); toggle.emit(task.id)"
        [disabled]="isBusy"
      >
        {{ isUpdating ? 'Saving…' : 'Next status' }}
      </button>

      <button
        class="btn danger"
        type="button"
        (click)="$event.stopPropagation(); remove.emit(task.id)"
        [disabled]="isBusy"
      >
        {{ isDeleting ? 'Deleting…' : 'Delete' }}
      </button>
    </div>
  </div>

  <p *ngIf="task.description">{{ task.description }}</p>

  <div class="footer">
    <span class="badge" [ngClass]="'badge-' + task.status">
      {{ task.status }}
    </span>
  </div>
</article>
