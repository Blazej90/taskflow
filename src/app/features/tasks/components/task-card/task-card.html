<article class="card">
  <div class="top">
    <div class="title-row">
      <label *ngIf="selectable" class="select">
        <input
          type="checkbox"
          [checked]="selected"
          [disabled]="isBusy"
          (change)="onToggleSelected($any($event.target).checked)"
        />
      </label>

      <h3>{{ task.title }}</h3>
    </div>

    <div class="actions">
      <a class="btn" [routerLink]="['/tasks', task.id, 'edit']" [class.disabled]="isBusy"> Edit </a>

      <button class="btn" type="button" (click)="toggle.emit(task.id)" [disabled]="isBusy">
        {{ isUpdating ? 'Saving…' : 'Next status' }}
      </button>

      <button class="btn danger" type="button" (click)="remove.emit(task.id)" [disabled]="isBusy">
        {{ isDeleting ? 'Deleting…' : 'Delete' }}
      </button>
    </div>
  </div>

  <p *ngIf="task.description">{{ task.description }}</p>

  <div class="footer">
    <span class="badge" [ngClass]="'badge-' + task.status">
      {{ task.status }}
    </span>
  </div>
</article>
